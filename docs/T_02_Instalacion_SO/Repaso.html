<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repaso: Instalación y Gestión Básica de un Sistema Operativo</title>
    <style>
        /* Estilos CSS */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }
        .header {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px 0;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header img {
            height: 50px; /* Ajusta el tamaño del logo */
            margin-right: 15px;
            vertical-align: middle;
        }
        .header h1 {
            margin: 0;
            font-size: 2.2em;
            vertical-align: middle;
        }
        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
        }
        .activity {
            background-color: #e8f0f2;
            border: 1px solid #dcdcdc;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            transition: transform 0.2s ease-in-out;
        }
        .activity:hover {
            transform: translateY(-5px);
        }
        .activity h3 {
            color: #2980b9;
            margin-top: 0;
            font-size: 1.5em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .question {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 500;
        }
        .options label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        .options label:hover {
            background-color: #dceef9;
        }
        .options input[type="radio"] {
            margin-right: 10px;
        }
        .text-input {
            width: calc(100% - 20px);
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
        }
        .button {
            background-color: #3498db;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        .button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
            display: none; /* Hidden by default */
        }
        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .sources {
            font-size: 0.85em;
            color: #555;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
        }
        .sources strong {
            color: #000;
        }
    </style>
</head>
<body>
    <header class="header">
        <img src="https://via.placeholder.com/50x50?text=LOGO" alt="Logo"> <!-- Reemplaza esta URL con la de tu logo -->
        <h1>SMR - Sistemas Operativos Monopuesto</h1>
    </header>

    <div class="container">
        <h2>Actividades de Repaso</h2>

        <div id="activities-container">
            <!-- Las actividades se cargarán aquí mediante JavaScript -->
        </div>
    </div>

    <script>
        // Lógica JavaScript
        const activities = [
            {
                id: 'act1',
                type: 'multiple-choice',
                question: '¿Cuál es el rol principal del **Sistema Operativo** como "director de orquesta" de un ordenador?',
                options: [
                    'Ser un editor de texto avanzado para documentos [Fuera de las fuentes]',
                    'Gestionar los recursos de hardware para que el usuario y los programas usen el ordenador de forma eficiente',
                    'Únicamente encender y apagar el ordenador [Fuera de las fuentes]',
                    'Diseñar interfaces gráficas de usuario [Fuera de las fuentes]'
                ],
                correctAnswerIndex: 1,
                feedbackCorrect: '¡Correcto! El SO es el "director de orquesta" que gestiona todos los recursos para un uso eficiente del hardware.',
                feedbackIncorrect: 'Incorrecto. El rol principal es la gestión de recursos de hardware.',
                sources: '[1]'
            },
            {
                id: 'act2',
                type: 'fill-in-the-blanks',
                question: 'Completa la siguiente frase: La CPU es el "__1__" del ordenador. El SO utiliza la técnica de la "__2__" para alternar rápidamente entre procesos activos, dando la ilusión de que se ejecutan simultáneamente.',
                blanks: [
                    { placeholder: '1', correct: 'cerebro' },
                    { placeholder: '2', correct: 'multitarea' }
                ],
                feedbackCorrect: '¡Perfecto! El SO usa la multitarea para optimizar el uso del "cerebro" (CPU).',
                feedbackIncorrect: 'Incorrecto. Revisa los términos clave para la gestión de la CPU y la técnica mencionada.',
                sources: '[2, 3]'
            },
            {
                id: 'act3',
                type: 'multiple-choice',
                question: 'En la gestión de la memoria RAM, ¿por qué es fundamental que el SO **proteja la memoria** entre programas?',
                options: [
                    'Para que un programa no consuma mucha CPU y el sistema no se ralentice [Fuera de las fuentes]',
                    'Para evitar que un programa sobrescriba la memoria de otro, lo que causaría errores o fallos en el sistema',
                    'Para cargar los programas más rápidamente al inicio del sistema [Fuera de las fuentes]',
                    'Para guardar los archivos de forma permanente en la RAM [Fuera de las fuentes]'
                ],
                correctAnswerIndex: 1,
                feedbackCorrect: '¡Exacto! La protección de memoria es clave para la estabilidad del sistema.',
                feedbackIncorrect: 'No es la respuesta correcta. Piensa en la estabilidad del sistema y la interacción entre programas.',
                sources: '[4]'
            },
            {
                id: 'act4',
                type: 'short-answer',
                question: 'Considerando la planificación de una instalación de sistema operativo, ¿cuál es el paso **MÁS IMPORTANTE** a seguir antes de cualquier manipulación de discos o instalación, y por qué?',
                keywords: ['copia de seguridad', 'backup', 'datos', 'archivos'], // Keywords to look for in the answer
                expectedAnswer: 'El paso MÁS IMPORTANTE es **hacer una copia de seguridad de todos tus datos importantes**. Esto es crucial porque un error en el proceso de instalación puede borrar tus archivos irremediablemente.',
                feedbackCorrect: '¡Excelente! La copia de seguridad es fundamental para proteger tus datos.',
                feedbackIncorrect: 'Revisa la sección de planificación pre-instalación. Hay un paso crítico para evitar la pérdida de datos.',
                sources: '[5]'
            },
            {
                id: 'act5',
                type: 'multiple-choice',
                question: '¿Qué tipo de licencia de software, comúnmente asociada al software libre, garantiza las libertades de ejecutar, estudiar, modificar y redistribuir el programa y sus versiones modificadas?',
                options: [
                    'Licencia de Software Propietario (EULA)',
                    'Freeware',
                    'Licencia Pública General (GPL)',
                    'Shareware'
                ],
                correctAnswerIndex: 2,
                feedbackCorrect: '¡Muy bien! La GPL es un pilar del software libre, garantizando esas libertades.',
                feedbackIncorrect: 'Incorrecto. Revisa los tipos de licencias, especialmente las del software libre.',
                sources: '[6]'
            },
            {
                id: 'act6',
                type: 'fill-in-the-blanks',
                question: 'Completa la siguiente frase: El "__1__" es la parte más importante del SO, su "corazón", encargado de funciones críticas como la gestión de memoria y el acceso al hardware. La "__2__" actúa como un intérprete entre el usuario y el kernel.',
                blanks: [
                    { placeholder: '1', correct: 'kernel' },
                    { placeholder: '2', correct: 'shell' }
                ],
                feedbackCorrect: '¡Correcto! El Kernel es el corazón y la Shell es el intermediario.',
                feedbackIncorrect: 'No es correcto. Revisa la arquitectura del sistema operativo y las funciones de sus componentes principales.',
                sources: '[7]'
            },
            {
                id: 'act7',
                type: 'short-answer',
                question: 'Has realizado una instalación dual-boot de Windows y Linux. Después de una actualización de Windows, el ordenador solo inicia Windows y no te da la opción de arrancar Linux. ¿Cuál es la causa más probable de este problema según los materiales, y qué tipo de herramienta o método podría utilizarse para intentar repararlo?',
                keywords: ['Windows', 'sobrescribe', 'GRUB', 'Live USB', 'boot-repair'],
                expectedAnswer: 'La causa más probable es que **Windows haya sobrescrito el gestor de arranque GRUB de Linux** [8]. Para intentar repararlo, se podría utilizar un **Live USB/DVD de Linux** con herramientas como `boot-repair` [9].',
                feedbackCorrect: '¡Excelente! Es un problema común y conoces la solución adecuada.',
                feedbackIncorrect: 'Revisa la sección de gestores de arranque y problemas comunes en sistemas multiarranque. Windows tiende a sobrescribir otros gestores de arranque.',
                sources: '[8, 9]'
            },
            {
                id: 'act8',
                type: 'multiple-choice',
                question: 'Un usuario desea instalar un nuevo sistema operativo que requiere un mínimo de 4 GB de RAM, pero su equipo solo tiene 2 GB. ¿Qué consecuencia directa es la más probable para el rendimiento del SO instalado?',
                options: [
                    'El SO no se instalará en absoluto [Fuera de las fuentes]',
                    'El SO funcionará muy lento',
                    'El SO funcionará con mayor rapidez debido al menor uso de RAM [Fuera de las fuentes]',
                    'Solo se podrán instalar programas muy básicos [Fuera de las fuentes]'
                ],
                correctAnswerIndex: 1,
                feedbackCorrect: '¡Correcto! Menos RAM de la requerida ralentizará significativamente el sistema.',
                feedbackIncorrect: 'Incorrecto. Piensa en cómo la RAM afecta directamente al rendimiento del SO si no se cumplen los requisitos mínimos.',
                sources: '[10]'
            },
            {
                id: 'act9',
                type: 'fill-in-the-blanks',
                question: 'Las actualizaciones de "__1__" cierran vulnerabilidades que los ciberdelincuentes pueden explotar, protegiendo el sistema. Las actualizaciones "__2__" pueden aportar mejoras de rendimiento o nuevas características.',
                blanks: [
                    { placeholder: '1', correct: 'seguridad' },
                    { placeholder: '2', correct: 'funcionales' }
                ],
                feedbackCorrect: '¡Perfecto! Las actualizaciones son vitales para la seguridad y la funcionalidad.',
                feedbackIncorrect: 'No es correcto. Revisa los tipos de actualizaciones y sus beneficios.',
                sources: '[11]'
            }
        ];

        const activitiesContainer = document.getElementById('activities-container');

        // Function to create and display activities
        function createActivityElement(activity) {
            let htmlContent = `
                <div class="activity" id="${activity.id}">
                    <h3>Actividad ${activity.id.replace('act', '')}</h3>
                    <div class="question">${activity.question}</div>
            `;

            if (activity.type === 'multiple-choice') {
                htmlContent += `<div class="options">`;
                activity.options.forEach((option, index) => {
                    htmlContent += `
                        <label>
                            <input type="radio" name="${activity.id}-option" value="${index}">
                            ${option}
                        </label>
                    `;
                });
                htmlContent += `</div>`;
            } else if (activity.type === 'fill-in-the-blanks') {
                htmlContent += `<div class="blanks-container">`;
                let currentPrompt = activity.question;
                activity.blanks.forEach((blank, index) => {
                    currentPrompt = currentPrompt.replace(`__${blank.placeholder}__`, `<input type="text" class="text-input blank-input" id="${activity.id}-blank-${index}" placeholder="Respuesta ${blank.placeholder}">`);
                });
                htmlContent = htmlContent.replace(activity.question, currentPrompt); // Replace original question with prompt containing inputs
                htmlContent += `</div>`;
            } else if (activity.type === 'short-answer') {
                htmlContent += `
                    <textarea class="text-input" id="${activity.id}-answer" rows="5" placeholder="Escribe tu respuesta aquí..."></textarea>
                `;
            }

            htmlContent += `
                    <button class="button" onclick="checkAnswer('${activity.id}')">Comprobar Respuesta</button>
                    <div class="feedback" id="${activity.id}-feedback"></div>
                    <div class="sources"><strong>Fuentes:</strong> ${activity.sources}</div>
                </div>
            `;
            return htmlContent;
        }

        // Render all activities
        activities.forEach(activity => {
            activitiesContainer.innerHTML += createActivityElement(activity);
        });

        // Function to check answers
        window.checkAnswer = function(activityId) {
            const activityElement = document.getElementById(activityId);
            const feedbackElement = document.getElementById(`${activityId}-feedback`);
            const activityData = activities.find(act => act.id === activityId);

            let isCorrect = false;
            let actualAnswer = '';

            if (activityData.type === 'multiple-choice') {
                const selectedOption = activityElement.querySelector(`input[name="${activityId}-option"]:checked`);
                if (selectedOption) {
                    isCorrect = (parseInt(selectedOption.value) === activityData.correctAnswerIndex);
                }
            } else if (activityData.type === 'fill-in-the-blanks') {
                isCorrect = true;
                activityData.blanks.forEach((blank, index) => {
                    const input = document.getElementById(`${activityId}-blank-${index}`);
                    if (!input || input.value.trim().toLowerCase() !== blank.correct.toLowerCase()) {
                        isCorrect = false;
                    }
                });
            } else if (activityData.type === 'short-answer') {
                const answerInput = document.getElementById(`${activityId}-answer`);
                actualAnswer = answerInput ? answerInput.value.trim().toLowerCase() : '';

                // Simple keyword matching for short answers
                isCorrect = activityData.keywords.some(keyword => actualAnswer.includes(keyword.toLowerCase()));

                if (!isCorrect) { // If keywords don't match fully, provide the expected answer
                    feedbackElement.innerHTML = `<p>${activityData.feedbackIncorrect}</p><p>La respuesta esperada era: **${activityData.expectedAnswer}**</p>`;
                    feedbackElement.classList.remove('correct');
                    feedbackElement.classList.add('incorrect');
                    feedbackElement.style.display = 'block';
                    return; // Exit early if incorrect
                }
            }

            // Display feedback
            feedbackElement.classList.remove('correct', 'incorrect');
            if (isCorrect) {
                feedbackElement.innerHTML = activityData.feedbackCorrect;
                feedbackElement.classList.add('correct');
            } else {
                feedbackElement.innerHTML = activityData.feedbackIncorrect;
                if (activityData.type === 'short-answer') {
                    feedbackElement.innerHTML += `<p>La respuesta esperada era: **${activityData.expectedAnswer}**</p>`;
                }
                feedbackElement.classList.add('incorrect');
            }
            feedbackElement.style.display = 'block';
        };

        // Function to replace bold markdown in questions with HTML strong tags
        function formatQuestions() {
            activities.forEach(activity => {
                const questionElement = document.querySelector(`#${activity.id} .question`);
                if (questionElement) {
                    questionElement.innerHTML = questionElement.innerHTML.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                }
            });
        }

        // Call formatQuestions after activities are loaded
        document.addEventListener('DOMContentLoaded', formatQuestions);

    </script>
</body>
</html>
