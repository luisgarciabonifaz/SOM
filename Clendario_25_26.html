<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Escolar 2025-2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #334155;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        .day-cell {
            padding: 8px 4px;
            text-align: center;
            border-radius: 8px;
            background-color: #e2e8f0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 80px; /* Adjust for better spacing */
        }
        .day-number {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 4px;
        }
        .class-day {
            background-color: #d1fae5; /* Green for class days */
            border: 2px solid #34d399;
        }
        .holiday {
            background-color: #fee2e2; /* Red for holidays */
            border: 2px solid #ef4444;
        }
        .weekend {
            background-color: #fef3c7; /* Yellow for weekends */
            color: #b45309;
        }
        .other-month {
            background-color: #cbd5e1;
            color: #64748b;
        }
        .month-header {
            grid-column: span 7;
            text-align: center;
            font-size: 1.8em;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 16px;
            padding: 12px;
            background-color: #e0f2fe;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .week-day-name {
            font-weight: 700;
            color: #475569;
            text-align: center;
            padding-bottom: 8px;
        }
        @media (max-width: 768px) {
            .day-cell {
                min-height: 60px;
                padding: 6px 2px;
            }
            .day-number {
                font-size: 0.9em;
            }
            .month-header {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body class="p-6 md:p-10">
    <div class="max-w-6xl mx-auto bg-white p-6 md:p-10 rounded-xl shadow-2xl">
        <h1 class="text-4xl md:text-5xl font-extrabold text-center text-blue-700 mb-8">Calendario Escolar 2025-2026</h1>
        <p class="text-lg text-center text-gray-600 mb-10">
            Aquí tienes tu calendario escolar, con las clases de lunes y miércoles y los días festivos marcados.
        </p>

        <div id="calendar-container" class="space-y-12">
            <!-- Calendar months will be rendered here by JavaScript -->
        </div>

        <div class="mt-12 p-6 bg-blue-50 rounded-lg shadow-inner">
            <h2 class="text-2xl font-bold text-blue-800 mb-4">Resumen del Curso</h2>
            <p class="text-lg text-gray-700 mb-2">
                <span class="font-semibold">Inicio del Curso:</span> 08 de Septiembre de 2025
            </p>
            <p class="text-lg text-gray-700 mb-2">
                <span class="font-semibold">Fin del Curso:</span> 05 de Junio de 2026
            </p>
            <p class="text-lg text-gray-700 mb-2">
                <span class="font-semibold">Clases:</span> Lunes y Miércoles (2 horas cada día)
            </p>
            <p class="text-lg text-gray-700">
                <span class="font-semibold">Total de Horas de Clase Estimadas:</span> <span id="total-class-hours" class="font-bold text-blue-900">0</span> horas
            </p>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg shadow-inner">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Leyenda</h2>
            <div class="flex flex-wrap gap-4 text-lg">
                <div class="flex items-center gap-2">
                    <span class="w-6 h-6 rounded-full bg-d1fae5 border-2 border-green-400"></span>
                    <span>Día de Clase</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-6 h-6 rounded-full bg-fee2e2 border-2 border-red-400"></span>
                    <span>Día Festivo / Vacaciones</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-6 h-6 rounded-full bg-fef3c7 border-2 border-yellow-400"></span>
                    <span>Fin de Semana</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-6 h-6 rounded-full bg-e2e8f0 border-2 border-gray-300"></span>
                    <span>Otros Días</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const calendarContainer = document.getElementById('calendar-container');
            const totalClassHoursElement = document.getElementById('total-class-hours');

            // Define start and end dates for the school year
            const startDate = new Date('2025-09-08');
            const endDate = new Date('2026-06-05');

            // Define holidays as an array of objects for easier checking
            const holidays = [
                // Single days
                { start: new Date('2025-10-09'), end: new Date('2025-10-09') },
                { start: new Date('2025-10-10'), end: new Date('2025-10-10') },
                { start: new Date('2025-12-08'), end: new Date('2025-12-08') },
                { start: new Date('2026-03-18'), end: new Date('2026-03-18') },
                { start: new Date('2026-03-19'), end: new Date('2026-03-19') },
                { start: new Date('2026-05-01'), end: new Date('2026-05-01') },
                // Ranges
                { start: new Date('2025-12-23'), end: new Date('2026-01-06') }, // Christmas break
                { start: new Date('2026-04-02'), end: new Date('2026-04-13') }  // Easter break
            ];

            let totalClassHours = 0;

            // Function to check if a date falls within any holiday period
            const isHoliday = (date) => {
                for (const holiday of holidays) {
                    // Normalize dates to start of day to avoid time component issues
                    const holidayStart = new Date(holiday.start.getFullYear(), holiday.start.getMonth(), holiday.start.getDate());
                    const holidayEnd = new Date(holiday.end.getFullYear(), holiday.end.getMonth(), holiday.end.getDate());
                    const currentDateNormalized = new Date(date.getFullYear(), date.getMonth(), date.getDate());

                    if (currentDateNormalized >= holidayStart && currentDateNormalized <= holidayEnd) {
                        return true;
                    }
                }
                return false;
            };

            // Function to format month names
            const getMonthName = (monthIndex) => {
                const monthNames = [
                    'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
                ];
                return monthNames[monthIndex];
            };

            // Function to render a single month's calendar
            const renderMonth = (year, month) => {
                const firstDayOfMonth = new Date(year, month, 1);
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const startDayOfWeek = firstDayOfMonth.getDay(); // 0 for Sunday, 1 for Monday, etc.

                // Adjust startDayOfWeek to be 0 for Monday, 6 for Sunday
                const adjustedStartDayOfWeek = (startDayOfWeek === 0) ? 6 : startDayOfWeek - 1;

                const monthDiv = document.createElement('div');
                monthDiv.className = 'mb-8';

                const monthHeader = document.createElement('div');
                monthHeader.className = 'month-header';
                monthHeader.textContent = `${getMonthName(month)} ${year}`;
                monthDiv.appendChild(monthHeader);

                const weekDaysHeader = document.createElement('div');
                weekDaysHeader.className = 'calendar-grid mb-2';
                const weekDayNames = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];
                weekDayNames.forEach(dayName => {
                    const dayNameDiv = document.createElement('div');
                    dayNameDiv.className = 'week-day-name';
                    dayNameDiv.textContent = dayName;
                    weekDaysHeader.appendChild(dayNameDiv);
                });
                monthDiv.appendChild(weekDaysHeader);

                const calendarGrid = document.createElement('div');
                calendarGrid.className = 'calendar-grid';

                // Fill in leading empty cells for days before the 1st of the month
                for (let i = 0; i < adjustedStartDayOfWeek; i++) {
                    const emptyCell = document.createElement('div');
                    emptyCell.className = 'day-cell other-month';
                    calendarGrid.appendChild(emptyCell);
                }

                // Fill in days of the month
                for (let day = 1; day <= daysInMonth; day++) {
                    const currentDate = new Date(year, month, day);
                    const dayOfWeek = currentDate.getDay(); // 0 for Sunday, 1 for Monday, etc.

                    const dayCell = document.createElement('div');
                    dayCell.className = 'day-cell';

                    const dayNumberSpan = document.createElement('span');
                    dayNumberSpan.className = 'day-number';
                    dayNumberSpan.textContent = day;
                    dayCell.appendChild(dayNumberSpan);

                    // Check if the date is within the school year range
                    const isInSchoolYear = currentDate >= startDate && currentDate <= endDate;

                    if (isInSchoolYear) {
                        if (isHoliday(currentDate)) {
                            dayCell.classList.add('holiday');
                            const holidayText = document.createElement('span');
                            holidayText.className = 'text-xs text-red-700 font-medium';
                            holidayText.textContent = 'Festivo';
                            dayCell.appendChild(holidayText);
                        } else if (dayOfWeek === 1 || dayOfWeek === 3) { // Monday (1) or Wednesday (3)
                            dayCell.classList.add('class-day');
                            const classText = document.createElement('span');
                            classText.className = 'text-xs text-green-700 font-medium';
                            classText.textContent = 'Clase (2h)';
                            dayCell.appendChild(classText);
                            totalClassHours += 2; // Add 2 hours for each class day
                        } else if (dayOfWeek === 0 || dayOfWeek === 6) { // Sunday (0) or Saturday (6)
                            dayCell.classList.add('weekend');
                            const weekendText = document.createElement('span');
                            weekendText.className = 'text-xs text-yellow-700 font-medium';
                            weekendText.textContent = 'Fin de Semana';
                            dayCell.appendChild(weekendText);
                        } else {
                            // Regular weekday
                            dayCell.classList.add('bg-e2e8f0');
                        }
                    } else {
                        // Days outside the school year range
                        dayCell.classList.add('other-month');
                        const outsideText = document.createElement('span');
                        outsideText.className = 'text-xs text-gray-500';
                        outsideText.textContent = 'Fuera de Curso';
                        dayCell.appendChild(outsideText);
                    }
                    calendarGrid.appendChild(dayCell);
                }

                monthDiv.appendChild(calendarGrid);
                calendarContainer.appendChild(monthDiv);
            };

            // Loop through months from start to end date
            let currentMonth = new Date(startDate.getFullYear(), startDate.getMonth(), 1);
            while (currentMonth <= endDate) {
                renderMonth(currentMonth.getFullYear(), currentMonth.getMonth());
                currentMonth.setMonth(currentMonth.getMonth() + 1);
            }

            // Display total class hours
            totalClassHoursElement.textContent = totalClassHours;
        });
    </script>
</body>
</html>

